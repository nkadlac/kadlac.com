---
import { ViewTransitions } from 'astro:transitions';
import '../styles/global.css';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

interface Props {
  title: string;
  description?: string;
  ogImage?: string;
  bgSaturated?: boolean;
}

const {
  title,
  description = "Nate will level up your design eye and help your brand or business stand out online. Join his weekly newsletter, read his writing, or bring him on as your design partner.",
  ogImage = "/og-image.jpg",
  bgSaturated = false
} = Astro.props;

const siteUrl = "https://www.kadlac.com";
const canonicalUrl = new URL(Astro.url.pathname, siteUrl).href;
---

<!doctype html>
<html lang="en" class:list={[bgSaturated && 'bg-saturated']}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />

    <!-- Favicons -->
    <link href="/favicon-light.png" rel="icon" media="(prefers-color-scheme: light)" />
    <link href="/favicon-dark.png" rel="icon" media="(prefers-color-scheme: dark)" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    <!-- SEO -->
    <link rel="canonical" href={canonicalUrl} />

    <!-- Open Graph / Social -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalUrl} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={`${siteUrl}${ogImage}`} />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={`${siteUrl}${ogImage}`} />

    <meta name="generator" content={Astro.generator} />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <title>{title}</title>
    <ViewTransitions />
  </head>
  <body class="flex flex-col min-h-screen">
    <Header bgSaturated={bgSaturated} />
    <main class="flex-1">
      <slot />
    </main>
    <Footer />
  </body>
</html>
