---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const notes = await getCollection('notes');
---

<Layout title="Book Notes | Nate Kadlac" description="Curated book summaries and notes on business, design, and personal development.">
  <section class="max-w-[768px] mx-auto px-6 py-16 md:py-24">
    <h1 class="font-heading font-medium leading-[1.05] mb-8 text-center" style="font-size: clamp(2.5rem, 8vw, 6rem);">
      BOOK NOTES
    </h1>
    <p class="text-xl text-brand-brown/80 mb-12 text-center max-w-xl mx-auto">
      A curated collection of book summaries and notes on business, design, communication, and personal development.
    </p>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
      {notes.map(note => (
        <a href={`/notes/${note.slug}`} class="group block">
          <div class="flex gap-5">
            {note.data.coverImage && (
              <div class="w-28 flex-shrink-0">
                <img
                  src={note.data.coverImage}
                  alt={note.data.title}
                  class="w-full rounded-lg"
                />
              </div>
            )}
            <div class="flex-1">
              <h2 class="font-heading text-xl font-semibold group-hover:opacity-70 transition-opacity">
                {note.data.title}
              </h2>
              <p class="text-base text-brand-brown/60 mt-1">
                by {note.data.author}
              </p>
              {note.data.description && (
                <p class="text-base text-brand-brown/70 mt-2 line-clamp-3">
                  {note.data.description}
                </p>
              )}
            </div>
          </div>
        </a>
      ))}
    </div>
  </section>
</Layout>
